#include <OneWire.h>
#include <DallasTemperature.h>
#include <DHT.h>

#define PIN_SENSOR_DS 8
#define PIN_SENSOR_DHT 9


//(1)
int buttonpin13 = 13, buttonpin7 = 7;
int buttonState13 = 0, buttonState7 = 0;

// initialize the library with the numbers of the interface pins
LiquidCrystal lcd(12, 11, 5, 4, 3, 2);

#define DHTTYPE DHT11
DHT dht(PIN_SENSOR_DHT, DHTTYPE);
// Data wire is plugged into port 2 on the Arduino
#define ONE_WIRE_BUS 2
OneWire oneWire(PIN_SENSOR_DS);

// Pass our oneWire reference to Dallas Temperature. 
DallasTemperature sensors(&oneWire);

// arrays to hold device address
DeviceAddress insideThermometer;

void setup() {
  // set up the LCD's number of columns and rows: 
  lcd.begin(16, 2);
  dht.begin();
  sensors.begin();

}



// function to print the temperature for a device
void printTemperature(DeviceAddress deviceAddress)
{
  float tempC = sensors.getTempC(deviceAddress);
  lcd.print("Temp C: ");
  lcd.print(tempC);
  lcd.print(" Temp F: ");
  lcd.print(DallasTemperature::toFahrenheit(tempC)); // Converts tempC to Fahrenheit
}


void loop() {


 //(2)
  buttonState7 = digitalRead(buttonpin7);
  buttonState13 = digitalRead(buttonpin13);
  delay(500);
  // (3)
  if (buttonState7 == HIGH) {
    lcd.clear();
    lcd.setCursor(0, 0);


    // read humidity
    float h = dht.readHumidity();
    //read temperature in Fahrenheit
    float f = dht.readTemperature(true);

    lcd.print(f);
    lcd.setCursor(7,1);
    lcd.print(h);
    delay(del);
  }
  // (4)
  else if (buttonState13 == HIGH) {
    lcd.clear();
    lcd.setCursor(0, 0);
    lcd.print("Requesting Water temperatures...");
    sensors.requestTemperatures();
    printTemperature(insideThermometer);
    delay(del);
  }
  // (5)
  else {
    lcd.setCursor(0, 0);
    lcd.print("Press a Button");
  }

  delay(2000);
}
